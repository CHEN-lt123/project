    {% extends 'base.html' %}
    {% block title %}<title>幼獅綜合醫院資訊網</title>{% endblock %}
    {% load static %}
    {% block content %}
<body>
    <!-- 輪播圖片 -->
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'images/ho1.jpg' %}" alt="問診">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ho3.jpg' %}" alt="病房">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ho2.jpg' %}" alt="形象">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ho4.jpg' %}" alt="走廊">
            </div>
        </div>
        <!-- 輪播左右箭頭效果 -->
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </a>
    </div>

<!-- 最新消息 -->       
<section id="newsCarousel" class="carousel slide container mt-5" data-bs-ride="carousel">
    <h2 class="text-center mb-4">最新消息</h2>
    <div class="carousel-inner">
        <!-- 第一張卡片 -->
        <div class="carousel-item active">
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new5.jpg' %}" class="card-img-top" alt="增強免疫">
                        <div class="card-body">
                            <h5 class="card-title">免疫力下降4症狀</h5>
                            <p class="card-text">免疫力是人體對抗外來病菌重要的機制，但免疫力太強太弱都不好...</p>
                            <p class="card-date">Date: 2024-10-13</p>
                            <a href="{% url 'new01' %}" class="btn btn-primary">了解更多</a>
                        </div>
                    </div>
                </div>
                <!-- 第二張卡片 -->
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new2.jpg' %}" class="card-img-top" alt="器官移植技術">
                        <div class="card-body">
                            <h5 class="card-title">器官移植技術</h5>
                            <p class="card-text">讓醫學界了解移植免疫學，也拯救了萬千末期病人的生命...</p>
                            <p class="card-date">Date: 2024-10-03</p>
                            <a href="#" class="btn btn-primary">了解更多</a>
                            {% comment %} <a href="{% url 'new02' %}" class="btn btn-primary">了解更多</a>/p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <!-- 第三張卡片 -->
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new4.jpg' %}" class="card-img-top" alt="癌症風險">
                        <div class="card-body">
                            <h5 class="card-title">患癌風險增高</h5>
                            <p class="card-text">年輕人患癌風險增高 罪魁禍首竟與「它」有關，酒精與癌症風險...</p>
                            <p class="card-date">Date: 2024-10-02</p>
                            <a href="#" class="btn btn-primary">了解更多</a>
                            {% comment %} <a href="{% url 'new03' %}" class="btn btn-primary">了解更多</a>/p> {% endcomment %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 第二組卡片的輪播 -->
        <div class="carousel-item">
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new1.jpg' %}" class="card-img-top" alt="顧好健康">
                        <div class="card-body">
                            <h5 class="card-title">顧好健康根本</h5>
                            <p class="card-text">人體器官是維持健康的根本，營養師曝8大器官養護祕笈 最怕天敵一次揭露...</p>
                            <p class="card-date">Date: 2024-10-22</p>
                            <a href="#" class="btn btn-primary">了解更多</a>
                            {% comment %} <a href="{% url 'new04' %}" class="btn btn-primary">了解更多</a>/p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <!-- 第2張卡片 -->
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new3.jpg' %}" class="card-img-top" alt="癌症風險">
                        <div class="card-body">
                            <h5 class="card-title">患癌風險增高</h5>
                            <p class="card-text">年輕人患癌風險增高 罪魁禍首竟與「它」有關，酒精與癌症風險...</p>
                            <p class="card-date">Date: 2024-10-02</p>
                            <a href="#" class="btn btn-primary">了解更多</a>
                            {% comment %} <a href="{% url 'new05' %}" class="btn btn-primary">了解更多</a>/p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <!-- 第3張卡片 -->
                <div class="col-md-4">
                    <div class="card">
                        <img src="{% static 'images/new6.jpg' %}" class="card-img-top" alt="癌症風險">
                        <div class="card-body">
                            <h5 class="card-title">患癌風險增高</h5>
                            <p class="card-text">年輕人患癌風險增高 罪魁禍首竟與「它」有關，酒精與癌症風險...</p>
                            <p class="card-date">Date: 2024-10-02</p>
                            <a href="#" class="btn btn-primary">了解更多</a>
                            {% comment %} <a href="{% url 'new06' %}" class="btn btn-primary">了解更多</a>/p> {% endcomment %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#newsCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden"></span>
    </a>
    <a class="carousel-control-next" href="#newsCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden"></span>
    </a>
    
</section>

            <!-- 掛號預約 -->
           

            <!-- 掛哪一科 -->
            <section id="departments" class="container mt-5">
                <h2>掛哪一科</h2>
                <p>根據症狀選擇合適的科室。</p>
                <!-- 此處可以加入更多功能 -->
            </section>


        <!-- 看診進度按鈕 -->
        <a id="see-button" href="http://my-lcd.local/view" target="_blank">
            <img src="{% static 'images/logo-08.svg' %}" alt="看診進度" width="90%" height="70px">
        </a>

            <!-- AI 聊天客服按鈕 -->
            <button id="chat-button" @click="toggleChatWindow">
                <!-- 💬 -->
                <img src="{% static 'images/logo-05.svg' %}" alt="apo" width="-60%">
            </button>

            <!-- AI 聊天客服窗口 -->
            <div id="chat-window">
                <div id="chat-header">
                    <h5>線上客服</h5>
                    <button @click="toggleChatWindow">X</button>
                </div>
                <div id="chat-messages">
                    <p class="message-bot">您好，有什麼可以幫助您的嗎？</p>
                </div>
                <input type="text" id="user-message" placeholder="輸入訊息" v-model="userMessage">
                <button id="send-message" @click="sendMessage">發送</button>
            </div>

    


        <!-- Vue.js 代碼 -->
        <script>
            new Vue({
                el: '#app',
                data: {
                 
                    appointment: {
                        name: '',
                        department: '',
                        date: ''
                    },
                    departments: ['內科', '外科', '其他專科'],
                    userMessage: '',
                    chatVisible: false,
                    messages: [
                        { sender: 'bot', text: '您好，有什麼可以幫助您的嗎？' }
                    ]
                },
                methods: {
                    submitAppointment() {
                        alert('預約提交成功！');
                    },
                    toggleChatWindow() {
                        this.chatVisible = !this.chatVisible;
                        const chatWindow = document.getElementById('chat-window');
                        chatWindow.style.display = this.chatVisible ? 'flex' : 'none';
                    },
                    sendMessage() {
                        if (this.userMessage.trim()) {
                            this.messages.push({ sender: 'user', text: this.userMessage });
                            this.userMessage = '';

                            // 模擬AI回覆，可以在這裡整合後端AI回應
                            setTimeout(() => {
                                this.messages.push({ sender: 'bot', text: '這是一個自動回應。' });
                            }, 1000);
                        }
                    }
                }
            });
        </script>

        {% comment %} 最新消息vue.js {% endcomment %}
        <template>
            <div class="news-container">
              <div class="row">
                <div class="col-md-4" v-for="news in newsList" :key="news.id">
                  <div class="card">
                    <img src="{% static 'images/new5.jpg' %}" class="card-img-top" alt="增強免疫">
                    <div class="card-body">
                      <h5 class="card-title">{{ news.title }}</h5>
                      <p class="card-text">{{ news.description }}</p>
                      <p class="card-date">{{ news.date }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </template>
          
          <script>
          import axios from 'axios';
          
          export default {
            data() {
              return {
                newsList: []
              };
            },
            mounted() {
              axios.get('/api/news/')
                .then(response => {
                  this.newsList = response.data;
                })
                .catch(error => {
                  console.error(error);
                });
            }
          };
          </script>
        
</body>
{% endblock %}